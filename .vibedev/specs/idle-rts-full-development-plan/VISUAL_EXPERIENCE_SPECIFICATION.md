# 深淵巢穴視覺體驗規格書

## 文檔版本
- **版本**: 1.0
- **日期**: 2024年12月
- **目標**: 定義玩家實際看到和感受到的遊戲體驗

## 核心視覺理念

### 深淵母巢的恐怖美學
- **主題**: 宇宙級生物恐怖 + 有機增長 + 無盡吞噬
- **情緒**: 壓抑、震撼、敬畏、不安
- **風格**: 黑暗有機體 + 生物質感 + 異形美學

## 視覺體驗需求

### 1. 母巢核心視覺

#### 1.1 母巢本體表現
**需求**: 玩家必須立即感受到母巢的威嚴和生命力

**視覺元素**:
- **脈動核心**: 中央巨大的心臟狀結構，持續脈動
- **神經網絡**: 發光的神經束連接各個部分
- **呼吸效果**: 整體結構的緩慢呼吸動畫
- **成長變化**: 隨等級提升，外觀變得更加複雜和威嚴

**技術實現**:
```csharp
// 母巢視覺效果控制器
public class HiveCoreVisualController : MonoBehaviour
{
    [Header("Pulsing Effects")]
    public float pulseSpeed = 1.0f;
    public AnimationCurve pulseCurve;
    public Light[] pulseLights;
    
    [Header("Growth Stages")]
    public GameObject[] growthStages; // 不同等級的外觀
    public ParticleSystem evolutionEffect;
    
    private void Update()
    {
        // 脈動效果
        float pulseValue = pulseCurve.Evaluate(Time.time * pulseSpeed);
        foreach (var light in pulseLights)
        {
            light.intensity = pulseValue;
        }
        
        // 呼吸效果
        transform.localScale = Vector3.one * (1.0f + pulseValue * 0.1f);
    }
    
    public void UpgradeToLevel(int level)
    {
        // 播放進化特效
        evolutionEffect.Play();
        
        // 切換外觀
        for (int i = 0; i < growthStages.Length; i++)
        {
            growthStages[i].SetActive(i == level - 1);
        }
    }
}
```

#### 1.2 母巢界面設計
**需求**: 界面必須體現有機生物的特質，而非機械科技感

**設計元素**:
- **有機邊框**: 類似血管和神經的界面邊框
- **脈動按鈕**: 按鈕會像心跳一樣脈動
- **生物質紋理**: 背景使用肉質、幾丁質紋理
- **流動動畫**: 資源流動像血液循環

### 2. 菌毯擴張視覺

#### 2.1 菌毯生長動畫
**需求**: 玩家必須看到令人不安但迷人的有機擴張過程

**視覺效果**:
- **邊緣蠕動**: 菌毯邊緣的蠕蟲狀擴張
- **表面脈動**: 菌毯表面的血管脈動
- **孢子飄散**: 擴張時的孢子粒子效果
- **地形腐蝕**: 原有地形被逐漸"消化"的效果

**Shader實現**:
```hlsl
// 菌毯表面Shader
Shader "Custom/CreepSurface"
{
    Properties
    {
        _MainTex ("Creep Texture", 2D) = "white" {}
        _NormalMap ("Normal Map", 2D) = "bump" {}
        _PulseSpeed ("Pulse Speed", Float) = 1.0
        _PulseIntensity ("Pulse Intensity", Float) = 0.1
        _CreepColor ("Creep Color", Color) = (0.3, 0.1, 0.4, 1)
    }
    
    SubShader
    {
        Pass
        {
            CGPROGRAM
            #pragma vertex vert
            #pragma fragment frag
            
            float4 frag(v2f i) : SV_Target
            {
                // 基礎紋理
                float4 tex = tex2D(_MainTex, i.uv);
                
                // 脈動效果
                float pulse = sin(_Time.y * _PulseSpeed) * _PulseIntensity + 1.0;
                
                // 有機顏色混合
                float4 creepColor = _CreepColor * pulse;
                
                return lerp(tex, creepColor, 0.7);
            }
            ENDCG
        }
    }
}
```

#### 2.2 菌毯與環境互動
**需求**: 菌毯必須看起來像活的生物，會與環境產生真實互動

**互動效果**:
- **吞噬植被**: 植物被菌毯覆蓋後逐漸枯萎
- **腐蝕建築**: 敵方建築被菌毯包圍時出現腐蝕效果
- **高度適應**: 菌毯沿著地形起伏自然流動
- **水體反應**: 遇到水體時產生特殊的擴散效果

### 3. 單位視覺表現

#### 3.1 蟲群數量感
**需求**: 玩家必須感受到蟲族壓倒性的數量優勢

**視覺策略**:
- **密集編隊**: 單位緊密排列，形成蟲海效果
- **統一動作**: 大群單位的同步移動
- **陰影效果**: 蟲群投下的巨大陰影
- **塵土飛揚**: 大軍移動時的地面震動效果

**實現方案**:
```csharp
// 蟲群視覺效果管理器
public class SwarmVisualManager : MonoBehaviour
{
    [Header("Swarm Effects")]
    public ParticleSystem dustCloud;
    public AudioSource swarmSound;
    public CameraShake cameraShake;
    
    private List<Unit> swarmUnits = new List<Unit>();
    
    public void RegisterSwarmUnit(Unit unit)
    {
        swarmUnits.Add(unit);
        UpdateSwarmEffects();
    }
    
    private void UpdateSwarmEffects()
    {
        int unitCount = swarmUnits.Count;
        
        // 根據單位數量調整效果強度
        if (unitCount > 100)
        {
            dustCloud.emission.rateOverTime = unitCount * 0.1f;
            swarmSound.volume = Mathf.Clamp01(unitCount / 1000f);
            cameraShake.intensity = unitCount * 0.001f;
        }
    }
}
```

#### 3.2 進化視覺變化
**需求**: 單位進化必須有戲劇性的視覺衝擊

**進化效果**:
- **繭化過程**: 單位被生物繭包裹
- **破繭而出**: 戲劇性的破殼效果
- **形態變化**: 明顯的外觀和尺寸變化
- **能量爆發**: 進化完成時的能量波動

### 4. 戰鬥視覺效果

#### 4.1 大規模戰鬥場面
**需求**: 戰鬥必須看起來壯觀而混亂，體現戰爭的殘酷

**視覺元素**:
- **血肉飛濺**: 單位死亡時的血液效果
- **爆炸衝擊**: 爆炸單位的衝擊波
- **戰場煙霧**: 戰鬥產生的煙塵和霧氣
- **屍體殘骸**: 戰死單位的屍體會留在戰場

#### 4.2 特殊攻擊效果
**需求**: 每種攻擊都必須有獨特且令人印象深刻的視覺效果

**攻擊效果設計**:
- **酸液攻擊**: 綠色腐蝕液體，地面冒煙
- **刺針攻擊**: 高速飛行的骨刺，帶血跡
- **自爆攻擊**: 巨大的生物質爆炸，四濺的酸液
- **撕咬攻擊**: 血腥的近戰撕咬動畫

## 用戶界面視覺規格

### 1. 主界面設計

#### 1.1 有機界面風格
**需求**: 界面必須看起來像生物器官，而非機械裝置

**設計元素**:
- **血管邊框**: 界面邊緣像血管網絡
- **肉質按鈕**: 按鈕看起來像器官組織
- **脈動動畫**: 重要元素會脈動呼吸
- **黏液質感**: 界面元素有濕潤的生物質感

#### 1.2 信息展示方式
**需求**: 複雜信息必須以直觀的視覺方式呈現

**展示方案**:
- **資源池**: 像血池一樣的資源顯示
- **進度條**: 像血管充血的進度顯示
- **統計圖表**: 有機形狀的數據可視化
- **警告提示**: 像生物警報的紅色脈動

### 2. 建築界面

#### 2.1 建築選擇界面
**需求**: 建築選擇必須體現生物建築的特性

**界面特色**:
- **器官圖標**: 每個建築用器官形狀表示
- **成長預覽**: 顯示建築的成長階段
- **依賴關係**: 用神經連接顯示建築依賴
- **資源消耗**: 用血液流動顯示資源需求

#### 2.2 建築放置反饋
**需求**: 建築放置必須有清晰的視覺反饋

**反饋效果**:
- **菌毯檢查**: 可建造區域的菌毯高亮
- **放置預覽**: 半透明的建築預覽
- **連接顯示**: 與母巢的神經連接預覽
- **錯誤提示**: 不可建造時的紅色警告

## 音效與反饋規格

### 1. 環境音效

#### 1.1 母巢環境音
**需求**: 玩家必須感受到母巢的生命力和活動

**音效設計**:
- **心跳聲**: 低沉的心跳節奏
- **呼吸聲**: 巨大生物的呼吸聲
- **液體流動**: 血液和體液的流動聲
- **器官蠕動**: 內臟蠕動的濕潤聲音

#### 1.2 菌毯音效
**需求**: 菌毯擴張必須有令人不安的有機音效

**音效元素**:
- **生長聲**: 植物快速生長的聲音
- **腐蝕聲**: 酸液腐蝕的嘶嘶聲
- **蠕動聲**: 蟲子爬行的聲音
- **脈動聲**: 血管脈動的聲音

### 2. 戰鬥音效

#### 2.1 蟲群音效
**需求**: 蟲群必須有震撼的集體音效

**音效設計**:
- **蟲群嘶鳴**: 數百隻蟲子的集體叫聲
- **翅膀振動**: 飛行單位的翅膀聲
- **腳步聲**: 大軍行進的震動聲
- **撕咬聲**: 戰鬥中的撕咬和咀嚼聲

#### 2.2 攻擊音效
**需求**: 每種攻擊都必須有獨特的音效標識

**音效分類**:
- **遠程攻擊**: 刺針飛行的破空聲
- **近戰攻擊**: 利爪撕裂的聲音
- **爆炸攻擊**: 生物質爆炸的悶響
- **酸液攻擊**: 腐蝕液體的嘶嘶聲

## 性能與優化規格

### 1. 視覺效果LOD

#### 1.1 距離相關優化
**需求**: 遠距離的視覺效果必須自動簡化以保持性能

**LOD策略**:
- **近距離**: 完整的高質量效果
- **中距離**: 簡化的粒子效果
- **遠距離**: 僅保留關鍵視覺元素
- **超遠距離**: 使用簡化的圖標表示

#### 1.2 設備適配
**需求**: 不同性能的設備必須有對應的視覺質量

**適配方案**:
- **高端設備**: 全特效，高分辨率紋理
- **中端設備**: 中等特效，標準紋理
- **低端設備**: 簡化特效，低分辨率紋理
- **自動檢測**: 根據設備性能自動調整

### 2. 內存管理

#### 2.1 紋理管理
**需求**: 大量的視覺資源必須高效管理

**管理策略**:
- **紋理壓縮**: 使用適當的壓縮格式
- **紋理流送**: 按需加載高分辨率紋理
- **紋理池**: 重複使用常見紋理
- **內存監控**: 實時監控內存使用

#### 2.2 特效優化
**需求**: 大量特效不能影響遊戲性能

**優化方案**:
- **特效池**: 重複使用特效對象
- **批量渲染**: 相同特效的批量處理
- **視錐剔除**: 不在視野內的特效不渲染
- **時間分片**: 複雜特效分幀處理

## 測試與驗證

### 1. 視覺效果測試

#### 1.1 美術效果驗證
**測試項目**:
- 母巢視覺是否令人印象深刻
- 菌毯擴張是否看起來有機自然
- 單位進化是否有戲劇性變化
- 戰鬥場面是否壯觀震撼

#### 1.2 用戶體驗測試
**測試方法**:
- A/B測試不同的視覺方案
- 用戶訪談收集視覺反饋
- 眼動追蹤分析視覺焦點
- 情緒反應測試

### 2. 性能測試

#### 2.1 幀率測試
**測試標準**:
- 1000單位戰鬥@30FPS
- 大面積菌毯@30FPS
- 複雜特效@30FPS
- 界面操作@60FPS

#### 2.2 內存測試
**測試指標**:
- 峰值內存使用量
- 內存洩漏檢測
- 紋理內存佔用
- 特效內存佔用

這個視覺體驗規格書確保了我們不僅有技術實現，更有玩家能夠實際看到和感受到的遊戲體驗。